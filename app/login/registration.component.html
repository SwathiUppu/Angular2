<div class="panel panel-primary">
  <div class="panel-heading">
    {{pageTitle}}
  </div>
	<div class="panel-body">
    <div class="row">
		  <form #f="ngForm" (ngSubmit)="f.form.valid && registrationSubmit()" novalidate>
			  <div  class="alert alert-danger" *ngIf="f.submitted && (firstname.invalid || lastname.invalid || email.invalid || username.invalid || password.invalid)">Please fill all required fields</div>
			  <div class="form-group" [ngClass]="{'has-error': f.submitted && firstname.invalid }">
				  <label for="firstname">Firstname</label>
				  <input type="text" class="form-control" name="firstname" [(ngModel)]="model.firstname" #firstname="ngModel" (ngModelChange)="changeUsername(model.firstname, 'firstname')"required />
					<div class="error-message" *ngIf="f.submitted && firstname.invalid">Firstname is required</div>
			  </div>
				<div class="form-group" [ngClass]="{'has-error': f.submitted && lastname.invalid }">
				  <label for="lastname">Lastname</label>
					<input type="text" class="form-control" name="lastname" [(ngModel)]="model.lastname" #lastname="ngModel" (ngModelChange)="changeUsername(model.lastname, 'lastname')" required />
					<div class="error-message" *ngIf="f.submitted && lastname.invalid">Lastname is required</div>
				</div>
			  <div class="form-group" [ngClass]="{'has-error': f.submitted && email.invalid }">
				  <label for="email">Email</label>
					<input type="email" pattern="^[a-zA-Z0-9.!#$%&amp;â€™*+/=?^_`{|}~-]+@[a-zA-Z0-9-]+(?:\.[a-zA-Z0-9-]+)*$" class="form-control" name="email" [(ngModel)]="model.email" #email="ngModel" required />
					<div class="error-message" *ngIf="f.submitted && email.invalid">Email is required</div>
				</div>
				<div class="form-group" [ngClass]="{'has-error': f.submitted && username.invalid }">
				  <label for="username">Username</label>
					<input type="text" class="form-control" name="username" [(ngModel)]="model.username" #username="ngModel" required />
					<div class="error-message" *ngIf="f.submitted && username.invalid">Username is required</div>
				</div>
				<div class="form-group" [ngClass]="{'has-error': f.submitted && password.invalid }">
				  <label for="password">Password</label>
					<input type="password" class="form-control" name="password" [(ngModel)]="model.password" #password="ngModel" required />
					<div class="error-message" *ngIf="f.submitted && password.invalid">Password is required</div>
				</div>
				<div class="form-group">
				  <button class="btn btn-primary" type="submit">Register</button>
				</div>
			</form>
    </div>
  </div>
</div>